{"version":3,"sources":["../../../../src/components/calendar/date-source/index.ts"],"sourcesContent":["import { CalendarDayType } from \"../types\";\n\n// Helper function to check if a date is today's date\nfunction isDateToday(date: Date): boolean {\n  const today = new Date();\n  return (\n    date.getDate() === today.getDate() &&\n    date.getMonth() === today.getMonth() &&\n    date.getFullYear() === today.getFullYear()\n  );\n}\n\nexport interface DateSourceDaysInMonth {\n  days: CalendarDayType[];\n  isSixWeeks: boolean;\n}\n\nexport const DateSource = {\n  getDaysInMonth: (year: number, month: number): DateSourceDaysInMonth => {\n    const days: CalendarDayType[] = [];\n    const firstDayOfMonth = new Date(year, month - 1, 1);\n\n    // Set the first day of the week as Sunday (0)\n    const firstDayOfWeek = 0;\n\n    // Get the number of days in the month\n    const numDaysInMonth = new Date(year, month, 0).getDate();\n\n    // Calculate the starting day of the calendar grid\n    const startDay = firstDayOfMonth.getDay() - firstDayOfWeek;\n\n    // Determine the number of days from the previous month and next month\n    const numDaysFromPrevMonth =\n      startDay < 0 ? -startDay : firstDayOfMonth.getDay();\n    const numDaysFromNextMonth = 42 - numDaysFromPrevMonth - numDaysInMonth;\n\n    // Determine the number of weeks\n    const numWeeks = Math.ceil((numDaysInMonth + numDaysFromPrevMonth) / 7);\n\n    // Determine the loop value based on the number of weeks\n    const loopValue = numWeeks === 5 ? 35 : 42;\n\n    // Generate days for the calendar\n    for (let i = 0; i < loopValue; i++) {\n      const date = new Date(year, month - 1, i - startDay + 1);\n      const day = date.getDate();\n      const isToday = isDateToday(date);\n      const isCurrentMonth = date.getMonth() === month - 1;\n      const dayOfWeek = date.getDay();\n      const dateString = date.toDateString();\n\n      let calendarMonth = month;\n      let calendarYear = year;\n\n      if (i < startDay) {\n        // Days from the previous month\n        calendarMonth = month === 1 ? 12 : month - 1;\n        calendarYear = month === 1 ? year - 1 : year;\n      } else if (i >= startDay + numDaysInMonth) {\n        // Days from the next month\n        calendarMonth = month === 12 ? 1 : month + 1;\n        calendarYear = month === 12 ? year + 1 : year;\n      }\n\n      // Create a CalendarDayType object for the current day\n      const calendarDay: CalendarDayType = {\n        dateObject: date,\n        year: calendarYear,\n        month: calendarMonth,\n        day,\n        isToday,\n        isCurrentMonth,\n        dayOfWeek,\n        dateString,\n        events: [],\n      };\n\n      // Push the calendarDay object into the days array\n      days.push(calendarDay);\n    }\n\n    return { days, isSixWeeks: numWeeks === 6 };\n  },\n  getWeekInYear(date: Date): number {\n    const startOfYear = new Date(date.getFullYear(), 0, 1);\n    const weekOffset = (startOfYear.getDay() + 6) % 7; // Adjust week offset to start from Monday (0: Monday, 6: Sunday)\n    const pastDaysOfYear = Math.floor(\n      (date.getTime() - startOfYear.getTime()) / 86400000\n    );\n    const weekNumber = Math.floor((pastDaysOfYear + weekOffset) / 7) + 1;\n    return Math.min(52, weekNumber); // Clamp the week number to a maximum of 52\n  },\n};\n"],"mappings":";AAGA,SAAS,YAAY,MAAqB;AACxC,QAAM,QAAQ,oBAAI,KAAK;AACvB,SACE,KAAK,QAAQ,MAAM,MAAM,QAAQ,KACjC,KAAK,SAAS,MAAM,MAAM,SAAS,KACnC,KAAK,YAAY,MAAM,MAAM,YAAY;AAE7C;AAOO,IAAM,aAAa;AAAA,EACxB,gBAAgB,CAAC,MAAc,UAAyC;AACtE,UAAM,OAA0B,CAAC;AACjC,UAAM,kBAAkB,IAAI,KAAK,MAAM,QAAQ,GAAG,CAAC;AAGnD,UAAM,iBAAiB;AAGvB,UAAM,iBAAiB,IAAI,KAAK,MAAM,OAAO,CAAC,EAAE,QAAQ;AAGxD,UAAM,WAAW,gBAAgB,OAAO,IAAI;AAG5C,UAAM,uBACJ,WAAW,IAAI,CAAC,WAAW,gBAAgB,OAAO;AACpD,UAAM,uBAAuB,KAAK,uBAAuB;AAGzD,UAAM,WAAW,KAAK,MAAM,iBAAiB,wBAAwB,CAAC;AAGtE,UAAM,YAAY,aAAa,IAAI,KAAK;AAGxC,aAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,YAAM,OAAO,IAAI,KAAK,MAAM,QAAQ,GAAG,IAAI,WAAW,CAAC;AACvD,YAAM,MAAM,KAAK,QAAQ;AACzB,YAAM,UAAU,YAAY,IAAI;AAChC,YAAM,iBAAiB,KAAK,SAAS,MAAM,QAAQ;AACnD,YAAM,YAAY,KAAK,OAAO;AAC9B,YAAM,aAAa,KAAK,aAAa;AAErC,UAAI,gBAAgB;AACpB,UAAI,eAAe;AAEnB,UAAI,IAAI,UAAU;AAEhB,wBAAgB,UAAU,IAAI,KAAK,QAAQ;AAC3C,uBAAe,UAAU,IAAI,OAAO,IAAI;AAAA,MAC1C,WAAW,KAAK,WAAW,gBAAgB;AAEzC,wBAAgB,UAAU,KAAK,IAAI,QAAQ;AAC3C,uBAAe,UAAU,KAAK,OAAO,IAAI;AAAA,MAC3C;AAGA,YAAM,cAA+B;AAAA,QACnC,YAAY;AAAA,QACZ,MAAM;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,QAAQ,CAAC;AAAA,MACX;AAGA,WAAK,KAAK,WAAW;AAAA,IACvB;AAEA,WAAO,EAAE,MAAM,YAAY,aAAa,EAAE;AAAA,EAC5C;AAAA,EACA,cAAc,MAAoB;AAChC,UAAM,cAAc,IAAI,KAAK,KAAK,YAAY,GAAG,GAAG,CAAC;AACrD,UAAM,cAAc,YAAY,OAAO,IAAI,KAAK;AAChD,UAAM,iBAAiB,KAAK;AAAA,OACzB,KAAK,QAAQ,IAAI,YAAY,QAAQ,KAAK;AAAA,IAC7C;AACA,UAAM,aAAa,KAAK,OAAO,iBAAiB,cAAc,CAAC,IAAI;AACnE,WAAO,KAAK,IAAI,IAAI,UAAU;AAAA,EAChC;AACF;","names":[]}